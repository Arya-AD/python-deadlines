BEGIN:VCALENDAR
METHOD:PUBLISH
VERSION:2.0
PRODID:-//{{ site.url }}//{{ site.github_repo }}//EN
X-PUBLISHED-TTL:PT1H
{%- for conf in site.data.conferences -%}
{% if conf.workshop_deadline and conf.workshop_deadline != "TBA" %}
BEGIN:VEVENT
SUMMARY:{{ conf.conference }} {{ conf.year }} Workshop Deadline
UID:{{ conf.id }}-workshop {% if conf.timezone contains "UTC" %} {% assign tz = conf.timezone | split: "UTC" %} {% if tz[1] contains "-" %} {% assign tz = tz[1] | replace: "-", "+" %} {% else if tz[1] contains "+" %} {% assign tz = tz[1] | replace: "+", "-" %} {% else assign tz = tz[1] %} {% endif %}
ORGANIZER:pythondeadlin.es
DTSTAMP:{{ site.time | date: "%Y%m%dT%H%M%SZ" }}
DTSTART;TZID=Etc/GMT{{ tz }}:{{ conf.workshop_deadline | date: "%Y%m%dT%H%M%S" }}
{% else %}
ORGANIZER:pythondeadlin.es
DTSTAMP:{{ site.time | date: "%Y%m%dT%H%M%SZ" }}
DTSTART;TZID={{ conf.timezone }}:{{ conf.workshop_deadline | date: "%Y%m%dT%H%M%S" }}
{% endif %}END:VEVENT{% endif %}
{% if conf.tutorial_deadline and conf.tutorial_deadline != "TBA" %}
BEGIN:VEVENT
SUMMARY:{{ conf.conference }} {{ conf.year }} Tutorial Deadline
UID:{{ conf.id }}-tutorial {% if conf.timezone contains "UTC" %} {% assign tz = conf.timezone | split: "UTC" %} {% if tz[1] contains "-" %} {% assign tz = tz[1] | replace: "-", "+" %} {% else if tz[1] contains "+" %} {% assign tz = tz[1] | replace: "+", "-" %} {% else assign tz = tz[1] %} {% endif %}
ORGANIZER:pythondeadlin.es
DTSTAMP:{{ site.time | date: "%Y%m%dT%H%M%SZ" }}
DTSTART;TZID=Etc/GMT{{ tz }}:{{ conf.tutorial_deadline | date: "%Y%m%dT%H%M%S" }}
{% else %}
ORGANIZER:pythondeadlin.es
DTSTAMP:{{ site.time | date: "%Y%m%dT%H%M%SZ" }}
DTSTART;TZID={{ conf.timezone }}:{{ conf.tutorial_deadline | date: "%Y%m%dT%H%M%S" }}
{% endif %}END:VEVENT{% endif %}
{% if conf.cfp != "TBA" %}BEGIN:VEVENT
SUMMARY:{{ conf.conference }} {{ conf.year }} Deadline
UID:{{ conf.id }} {% if conf.timezone contains "UTC" %} {% assign tz = conf.timezone | split: "UTC" %} {% if tz[1] contains "-" %} {% assign tz = tz[1] | replace: "-", "+" %} {% else if tz[1] contains "+" %} {% assign tz = tz[1] | replace: "+", "-" %} {% else assign tz = tz[1] %} {% endif %}
ORGANIZER:pythondeadlin.es
DTSTAMP:{{ site.time | date: "%Y%m%dT%H%M%SZ" }}
DTSTART;TZID=Etc/GMT{{ tz }}:{{ conf.cfp | date: "%Y%m%dT%H%M%S" }}
{% else %}
ORGANIZER:pythondeadlin.es
DTSTAMP:{{ site.time | date: "%Y%m%dT%H%M%SZ" }}
DTSTART;TZID={{ conf.timezone }}:{{ conf.cfp | date: "%Y%m%dT%H%M%S" }}
{% endif %}END:VEVENT
{% endif %}
{%- endfor -%}END:VCALENDAR
